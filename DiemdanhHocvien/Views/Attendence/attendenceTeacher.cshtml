@model IEnumerable<DiemdanhHocvien.DataAccess.Student>

@{
    ViewBag.Title = "Details";
}
<div class="container-fluid" id="container-wrapper">

    <!-- form atribute call -->
    <form action="#" method="post" id="form" onsubmit="addIdInValues();" name="form">@Html.AntiForgeryToken()</form>
    <button id="submit" value="addStudent" class="btn btn-primary" form="form">  submit  </button>

    <!-- Row -->
    <div class="row">
        <!-- DataTable with Hover -->
        <div class="col-lg-12">
            <div class="card mb-4">
                <div class="table-responsive p-3">
                    <table class="table align-items-center table-flush table-hover record_table" id="dataTableHover">
                        <thead class="thead-light">
                            <tr>
                                <th>Yes</th>
                                <th>
                                    @Html.DisplayNameFor(model => model.holyName)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.lastName)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.firstName)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.BOD)
                                </th>
                                <th>
                                    Description
                                </th>
                                <th>Order</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>Yes</th>
                                <th>
                                    @Html.DisplayNameFor(model => model.holyName)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.lastName)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.firstName)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.BOD)
                                </th>
                                <th>
                                    Description
                                </th>
                                <th>Order</th>
                            </tr>
                        </tfoot>
                        <tbody>


                            @foreach (var item in Model)
                            {

                                <tr>
                                    <td><input type="checkbox" name="lstStudentTrue" form="form" value="@item.id" /></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.lastName)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.firstName)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.holyName)
                                    </td>
                                    <td>
                                        @item.BOD.ToString("dd-MM-yyyy")
                                    </td>
                                    <th>
                                        <input class="form-control" data-id="@item.id" type="text" name="description" placeholder="enter description" form="form" />
                                    </th>
                                    <th></th>
                                </tr>

                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--Row-->
    <!---Container Fluid-->
    </div>
    @section _Footer{

        <!-- Page level plugins -->
        <script src="~/Assets/dashboard/vendor/datatables/jquery.dataTables.min.js"></script>
        <script src="~/Assets/dashboard/vendor/datatables/dataTables.bootstrap4.min.js"></script>

        <!-- Page level custom scripts -->
        <script>
            $(document).ready(function () {
                $('#dataTableHover').DataTable(); // ID From dataTable with Hover
            });
        </script>
        <script>
            $("#actionName").text("Add Student to class")
        </script>

        @*click submit add it student*@

        <script>
            function addIdInValues() {
                var lstinput = $("tbody input[type=text]");
                lstinput.each(function (e) {
                    id = $(this).data('id');
                    des = id;
                    des += "#";
                    des += $(this).val();
                    $(this).val(des);
                });
                return true;

            }
        </script>

        @*click row in table checkbox*@
        <script>
            $(document).ready(function () {
                $('.record_table tr').click(function (event) {
                    if (event.target.type !== 'checkbox') {
                        $(':checkbox', this).trigger('click');
                        if ($(':checkbox', this)[0].checked) {
                            $(this).css("background-color", "#6777ef6b");
                        } else {
                            $(this).css("background-color", "");
                        }
                    }


                });
            });
        </script>
    }
